import{_ as i,o as a,c as e,ag as n}from"./chunks/framework.DhRkhqU-.js";const c=JSON.parse('{"title":"İleri Seviye Docker (Advanced)","description":"","frontmatter":{},"headers":[],"relativePath":"02-Docker/07-Advanced.md","filePath":"02-Docker/07-Advanced.md"}'),t={name:"02-Docker/07-Advanced.md"};function l(o,s,r,k,h,p){return a(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="ileri-seviye-docker-advanced" tabindex="-1">İleri Seviye Docker (Advanced) <a class="header-anchor" href="#ileri-seviye-docker-advanced" aria-label="Permalink to &quot;İleri Seviye Docker (Advanced)&quot;">​</a></h1><h2 id="_1-docker-context-remote-docker" tabindex="-1">1. Docker Context (Remote Docker) <a class="header-anchor" href="#_1-docker-context-remote-docker" aria-label="Permalink to &quot;1. Docker Context (Remote Docker)&quot;">​</a></h2><p>Kendi bilgisayarınızdaki Docker CLI&#39;ı kullanarak, uzaktaki bir sunucudaki (SSH ile erişilen) Docker Daemon&#39;ı yönetebilirsiniz.</p><h3 id="nasıl-yapılır" tabindex="-1">Nasıl Yapılır? <a class="header-anchor" href="#nasıl-yapılır" aria-label="Permalink to &quot;Nasıl Yapılır?&quot;">​</a></h3><ol><li><p><strong>Context Oluştur:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote-server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;host=ssh://user@192.168.1.100&quot;</span></span></code></pre></div><p><em>(SSH anahtarınızın ayarlı olması gerekir)</em></p></li><li><p><strong>Context&#39;i Seç:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote-server</span></span></code></pre></div></li><li><p><strong>Test Et:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span></span></code></pre></div><p>Artık bu komut, yerel makinenizi değil, uzaktaki sunucuyu listeler!</p></li><li><p><strong>Geri Dön:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span></span></code></pre></div></li></ol><h2 id="_2-docker-daemon-konfigurasyonu-daemon-json" tabindex="-1">2. Docker Daemon Konfigürasyonu (<code>daemon.json</code>) <a class="header-anchor" href="#_2-docker-daemon-konfigurasyonu-daemon-json" aria-label="Permalink to &quot;2. Docker Daemon Konfigürasyonu (\`daemon.json\`)&quot;">​</a></h2><p>Docker&#39;ın davranışlarını <code>/etc/docker/daemon.json</code> dosyası ile değiştirebilirsiniz.</p><p>Örnekler:</p><ul><li><strong>Log Rotasyonu:</strong> Konteyner loglarının diski doldurmasını engellemek.<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;log-driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;json-file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;log-opts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;max-size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;max-file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><strong>Insecure Registry:</strong> HTTPS olmayan bir registry&#39;e bağlanmak için.<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;insecure-registries&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myregistry.local:5000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h2 id="_3-guvenlik-security" tabindex="-1">3. Güvenlik (Security) <a class="header-anchor" href="#_3-guvenlik-security" aria-label="Permalink to &quot;3. Güvenlik (Security)&quot;">​</a></h2><h3 id="rootless-docker" tabindex="-1">Rootless Docker <a class="header-anchor" href="#rootless-docker" aria-label="Permalink to &quot;Rootless Docker&quot;">​</a></h3><p>Docker daemon&#39;ı root yetkisi olmadan çalıştırmak, güvenlik risklerini azaltır. Saldırgan konteynerden kaçsa bile (container breakout), sunucuda root yetkisi kazanamaz.</p><h3 id="resource-limits-kaynak-sınırlama" tabindex="-1">Resource Limits (Kaynak Sınırlama) <a class="header-anchor" href="#resource-limits-kaynak-sınırlama" aria-label="Permalink to &quot;Resource Limits (Kaynak Sınırlama)&quot;">​</a></h3><p>Bir konteynerin tüm sunucuyu kilitlemesini engellemek için CPU ve RAM limiti koyun.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --memory=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;512m&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cpus=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div><ul><li><code>--memory</code>: Maksimum RAM kullanımı.</li><li><code>--cpus</code>: Maksimum CPU çekirdeği kullanımı.</li></ul><h3 id="read-only-filesystem" tabindex="-1">Read-Only Filesystem <a class="header-anchor" href="#read-only-filesystem" aria-label="Permalink to &quot;Read-Only Filesystem&quot;">​</a></h3><p>Konteynerin dosya sistemine yazmasını engelleyin (Sadece volume&#39;lere yazabilir).</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --read-only</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div>`,19)])])}const u=i(t,[["render",l]]);export{c as __pageData,u as default};
