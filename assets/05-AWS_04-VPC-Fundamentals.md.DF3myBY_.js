import{_ as i,o as s,c as e,ag as n}from"./chunks/framework.DhRkhqU-.js";const d=JSON.parse('{"title":"AWS VPC – Sanal Özel Bulut (Virtual Private Cloud)","description":"","frontmatter":{},"headers":[],"relativePath":"05-AWS/04-VPC-Fundamentals.md","filePath":"05-AWS/04-VPC-Fundamentals.md"}'),l={name:"05-AWS/04-VPC-Fundamentals.md"};function t(r,a,k,h,p,o){return s(),e("div",null,[...a[0]||(a[0]=[n(`<h1 id="aws-vpc-–-sanal-ozel-bulut-virtual-private-cloud" tabindex="-1">AWS VPC – Sanal Özel Bulut (Virtual Private Cloud) <a class="header-anchor" href="#aws-vpc-–-sanal-ozel-bulut-virtual-private-cloud" aria-label="Permalink to &quot;AWS VPC – Sanal Özel Bulut (Virtual Private Cloud)&quot;">​</a></h1><h2 id="_1-hangi-sorunu-cozer" tabindex="-1">1. Hangi Sorunu Çözer? <a class="header-anchor" href="#_1-hangi-sorunu-cozer" aria-label="Permalink to &quot;1. Hangi Sorunu Çözer?&quot;">​</a></h2><p>Buluttan Önce: Ağları izole etmek için fiziksel olarak switch ve router kablolamanız gerekirdi. <strong>VPC ile:</strong> AWS Bulutu içinde mantıksal olarak izole edilmiş bir bölüm oluşturursunuz. IP aralıkları, alt ağlar (subnet) ve yönlendirme tabloları (route table) dahil olmak üzere sanal ağ ortamınız üzerinde tam kontrole sahip olursunuz.</p><h2 id="_2-mimari-ve-temel-bilesenler" tabindex="-1">2. Mimari ve Temel Bileşenler <a class="header-anchor" href="#_2-mimari-ve-temel-bilesenler" aria-label="Permalink to &quot;2. Mimari ve Temel Bileşenler&quot;">​</a></h2><h3 id="mimari-diyagramı" tabindex="-1">Mimari Diyagramı <a class="header-anchor" href="#mimari-diyagramı" aria-label="Permalink to &quot;Mimari Diyagramı&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Internet((Internet)) &lt;--&gt; IGW[Internet Gateway]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    IGW &lt;--&gt; RT_Pub[Public Route Table]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph VPC [VPC 10.0.0.0/16]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        subgraph AZ1 [Availability Zone A]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            RT_Pub --&gt; SubnetPub[Public Subnet 10.0.1.0/24]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            SubnetPub --&gt; NAT[NAT Gateway]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            NAT --&gt; RT_Priv[Private Route Table]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            RT_Priv --&gt; SubnetPriv[Private Subnet 10.0.2.0/24]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span></code></pre></div><h3 id="temel-bilesenler" tabindex="-1">Temel Bileşenler <a class="header-anchor" href="#temel-bilesenler" aria-label="Permalink to &quot;Temel Bileşenler&quot;">​</a></h3><ol><li><strong>CIDR Block:</strong> VPC için IP aralığı (örn: <code>10.0.0.0/16</code> = 65,536 IP).</li><li><strong>Subnets (Alt Ağlar):</strong> VPC IP aralığının bölümleri. Belirli bir Availability Zone (AZ) içinde bulunmalıdır. <ul><li><strong>Public Subnet:</strong> Internet Gateway&#39;e (IGW) rotası vardır.</li><li><strong>Private Subnet:</strong> IGW&#39;ye doğrudan rotası yoktur. Dışarı çıkmak için NAT Gateway kullanır.</li></ul></li><li><strong>Internet Gateway (IGW):</strong> İnternete açılan kapı. VPC başına bir tane olur.</li><li><strong>Route Tables:</strong> Ağ trafiğinin nereye yönlendirileceğini belirleyen kurallar (rotalar).</li><li><strong>NAT Gateway:</strong> Özel (private) instance&#39;ların internete konuşmasını (güncellemeler için) sağlar ancak internetin onlara ulaşmasını engeller.</li><li><strong>NACL (Network ACL):</strong> Subnet seviyesinde durumsuz (stateless) güvenlik duvarı.</li><li><strong>Security Group:</strong> Instance seviyesinde durumlu (stateful) güvenlik duvarı.</li></ol><h2 id="_3-gercek-dagıtım-senaryoları" tabindex="-1">3. Gerçek Dağıtım Senaryoları <a class="header-anchor" href="#_3-gercek-dagıtım-senaryoları" aria-label="Permalink to &quot;3. Gerçek Dağıtım Senaryoları&quot;">​</a></h2><h3 id="senaryo-a-public-private-subnetler-standart" tabindex="-1">Senaryo A: Public &amp; Private Subnetler (Standart) <a class="header-anchor" href="#senaryo-a-public-private-subnetler-standart" aria-label="Permalink to &quot;Senaryo A: Public &amp; Private Subnetler (Standart)&quot;">​</a></h3><ul><li><strong>Amaç:</strong> Bir web uygulamasını güvenli bir şekilde barındırmak.</li><li><strong>Kurulum:</strong><ul><li><strong>Public Subnet:</strong> Load Balancer (ALB), Bastion Host.</li><li><strong>Private Subnet:</strong> Web Sunucuları (EC2), Veritabanı (RDS).</li><li><strong>Akış:</strong> Kullanıcı -&gt; ALB -&gt; Web Sunucusu -&gt; DB.</li></ul></li></ul><h3 id="senaryo-b-vpc-peering" tabindex="-1">Senaryo B: VPC Peering <a class="header-anchor" href="#senaryo-b-vpc-peering" aria-label="Permalink to &quot;Senaryo B: VPC Peering&quot;">​</a></h3><ul><li><strong>Amaç:</strong> İki VPC&#39;yi birbirine bağlamak (örn: Ortak Servisler VPC &lt;-&gt; Prod VPC).</li><li><strong>Kurulum:</strong> Bir Peering Bağlantısı oluşturun. <em>Her iki</em> VPC&#39;deki Route Table&#39;ları Peering ID&#39;sine (<code>pcx-xxxx</code>) yönlendirecek şekilde güncelleyin.</li><li><strong>Not:</strong> Peering geçişli (transitive) değildir (A &lt;-&gt; B ve B &lt;-&gt; C varsa, A &lt;-&gt; C konuşamaz).</li></ul><h2 id="_4-guvenlik-en-iyi-uygulamaları" tabindex="-1">4. Güvenlik En İyi Uygulamaları <a class="header-anchor" href="#_4-guvenlik-en-iyi-uygulamaları" aria-label="Permalink to &quot;4. Güvenlik En İyi Uygulamaları&quot;">​</a></h2><ol><li><strong>NACL yerine Security Group:</strong> Birincil filtreleme için SG kullanın. Yönetimi daha kolaydır (Stateful). NACL&#39;leri sadece açıkça engelleme (explicit blocking) için kullanın (örn: belirli bir saldırgan IP&#39;yi engellemek).</li><li><strong>Backend İçin Public IP Yok:</strong> Veritabanları ve Uygulama sunucuları ASLA public IP&#39;ye sahip olmamalıdır.</li><li><strong>Flow Logs:</strong> Denetim (audit) için trafiği (kabul edilen/reddedilen) izlemek üzere VPC Flow Logs&#39;u etkinleştirin.</li><li><strong>Bastion Host:</strong> SSH erişimine ihtiyacınız varsa, public subnet&#39;te bir Bastion kullanın veya daha iyisi <strong>SSM Session Manager</strong> kullanın (port açmaya gerek kalmaz).</li></ol><h2 id="_5-maliyet-optimizasyonu" tabindex="-1">5. Maliyet Optimizasyonu <a class="header-anchor" href="#_5-maliyet-optimizasyonu" aria-label="Permalink to &quot;5. Maliyet Optimizasyonu&quot;">​</a></h2><ul><li><strong>NAT Gateway:</strong> Pahalıdır (~$0.045/saat + veri işleme). <ul><li><em>İpucu:</em> AWS servisleri (S3, DynamoDB) için NAT maliyetinden kaçınmak adına VPC Endpoints (Gateway tipi) kullanın.</li></ul></li><li><strong>Veri Transferi:</strong> AZ&#39;ler arası transfer ücretlidir. Yüksek erişilebilirlik (HA) kritik değilse, çok konuşan servisleri aynı AZ&#39;de tutun.</li><li><strong>Public IP:</strong> AWS artık public IPv4 adresleri için ücret almaktadır. Mümkün olduğunca private IP kullanın.</li></ul><h2 id="_6-infrastructure-as-code-terraform" tabindex="-1">6. Infrastructure as Code (Terraform) <a class="header-anchor" href="#_6-infrastructure-as-code-terraform" aria-label="Permalink to &quot;6. Infrastructure as Code (Terraform)&quot;">​</a></h2><div class="language-hcl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hcl</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resource</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;aws_vpc&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  cidr_block</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;10.0.0.0/16&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resource</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;aws_subnet&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  vpc_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aws_vpc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">main</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  cidr_block</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;10.0.1.0/24&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  map_public_ip_on_launch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resource</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;aws_internet_gateway&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;gw&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  vpc_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aws_vpc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">main</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resource</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;aws_route_table&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;public_rt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  vpc_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aws_vpc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">main</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cidr_block</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;0.0.0.0/0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gateway_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aws_internet_gateway</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="_7-aws-cli-ornekleri" tabindex="-1">7. AWS CLI Örnekleri <a class="header-anchor" href="#_7-aws-cli-ornekleri" aria-label="Permalink to &quot;7. AWS CLI Örnekleri&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">İşlem</th><th style="text-align:left;">Komut</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>VPC Oluştur</strong></td><td style="text-align:left;"><code>aws ec2 create-vpc --cidr-block 10.0.0.0/16</code></td></tr><tr><td style="text-align:left;"><strong>Subnet Oluştur</strong></td><td style="text-align:left;"><code>aws ec2 create-subnet --vpc-id vpc-xxx --cidr-block 10.0.1.0/24</code></td></tr><tr><td style="text-align:left;"><strong>IGW Oluştur</strong></td><td style="text-align:left;"><code>aws ec2 create-internet-gateway</code></td></tr><tr><td style="text-align:left;"><strong>IGW Bağla</strong></td><td style="text-align:left;"><code>aws ec2 attach-internet-gateway --vpc-id vpc-xxx --internet-gateway-id igw-xxx</code></td></tr></tbody></table><h2 id="_8-sık-karsılasılan-sınav-soruları-saa-c03-dva-c02" tabindex="-1">8. Sık Karşılaşılan Sınav Soruları (SAA-C03 / DVA-C02) <a class="header-anchor" href="#_8-sık-karsılasılan-sınav-soruları-saa-c03-dva-c02" aria-label="Permalink to &quot;8. Sık Karşılaşılan Sınav Soruları (SAA-C03 / DVA-C02)&quot;">​</a></h2><p><strong>S1: Private subnet&#39;teki bir EC2 instance&#39;ının internetten güncelleme indirmesi gerekiyor. Neye ihtiyacınız var?</strong></p><ul><li>A) Internet Gateway</li><li>B) NAT Gateway ✅</li><li>C) VPC Peering</li><li>D) Egress-Only Internet Gateway</li><li><em>Sebep: NAT Gateway, private subnet&#39;ler için giden trafiğe izin verir. Egress-Only IPv6 içindir.</em></li></ul><p><strong>S2: Security Group&#39;ta bir IP&#39;yi engellediniz ama trafik hala geçiyor. Neden?</strong></p><ul><li>A) Security Group&#39;lar stateless&#39;tır.</li><li>B) Security Group&#39;lar trafiği engelleyemez (deny). ✅</li><li>C) Instance&#39;ı yeniden başlatmanız gerekir.</li><li>D) Kuralın uygulanması 24 saat sürer.</li><li><em>Sebep: Security Group&#39;lar &quot;Sadece İzin Ver&quot; (Allow Only) mantığıyla çalışır. Bir IP&#39;yi açıkça REDDETMEK (DENY) için Network ACL (NACL) kullanmalısınız.</em></li></ul><p><strong>S3: Çakışan CIDR bloklarına sahip iki VPC&#39;yi (örn: ikisi de 10.0.0.0/16) peer edebilir misiniz?</strong></p><ul><li>A) Evet.</li><li>B) Hayır. ✅</li><li>C) Sadece farklı bölgelerdelerse.</li><li>D) Sadece Transit Gateway kullanırsanız.</li><li><em>Sebep: Çakışan CIDR&#39;lar yönlendirmeyi bozar. Onları peer edemezsiniz.</em></li></ul>`,28)])])}const g=i(l,[["render",t]]);export{d as __pageData,g as default};
