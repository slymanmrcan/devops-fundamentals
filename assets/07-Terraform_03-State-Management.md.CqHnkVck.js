import{_ as e,o as t,c as i,ag as s}from"./chunks/framework.DhRkhqU-.js";const m=JSON.parse('{"title":"03 - State (Durum) Yönetimi","description":"","frontmatter":{},"headers":[],"relativePath":"07-Terraform/03-State-Management.md","filePath":"07-Terraform/03-State-Management.md"}'),r={name:"07-Terraform/03-State-Management.md"};function n(l,a,o,d,k,h){return t(),i("div",null,[...a[0]||(a[0]=[s(`<h1 id="_03-state-durum-yonetimi" tabindex="-1">03 - State (Durum) Yönetimi <a class="header-anchor" href="#_03-state-durum-yonetimi" aria-label="Permalink to &quot;03 - State (Durum) Yönetimi&quot;">​</a></h1><p>Terraform, oluşturduğu kaynakların kimliklerini ve özelliklerini <code>terraform.tfstate</code> adlı bir dosyada tutar. Bu dosya Terraform&#39;un beynidir.</p><h2 id="state-nedir" tabindex="-1">State Nedir? <a class="header-anchor" href="#state-nedir" aria-label="Permalink to &quot;State Nedir?&quot;">​</a></h2><p>Terraform her çalıştığında:</p><ol><li>Kodunuzu okur.</li><li>State dosyasını okur.</li><li>Gerçek dünyadaki (Cloud) durumu kontrol eder.</li><li>Aradaki farkı bulup sadece gerekeni yapar.</li></ol><h2 id="local-vs-remote-state" tabindex="-1">Local vs Remote State <a class="header-anchor" href="#local-vs-remote-state" aria-label="Permalink to &quot;Local vs Remote State&quot;">​</a></h2><h3 id="local-state-varsayılan" tabindex="-1">Local State (Varsayılan) <a class="header-anchor" href="#local-state-varsayılan" aria-label="Permalink to &quot;Local State (Varsayılan)&quot;">​</a></h3><p>State dosyası kendi bilgisayarınızda saklanır.</p><ul><li><strong>Risk:</strong> Bilgisayarınız bozulursa altyapıyı yönetemezsiniz.</li><li><strong>Risk:</strong> Ekip arkadaşınızla aynı anda çalışamazsınız.</li></ul><h3 id="remote-state-onerilen" tabindex="-1">Remote State (Önerilen) <a class="header-anchor" href="#remote-state-onerilen" aria-label="Permalink to &quot;Remote State (Önerilen)&quot;">​</a></h3><p>State dosyası ortak bir yerde (S3, GCS, Terraform Cloud) saklanır.</p><p><strong>S3 Backend Örneği:</strong></p><div class="language-hcl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hcl</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># versions.tf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">terraform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  backend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;s3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bucket</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">         =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;my-company-terraform-state&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;prod/app.tfstate&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    region</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">         =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;us-east-1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dynamodb_table</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;terraform-locks&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Kilitleme için (Aynı anda çalışmayı önler)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    encrypt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="state-komutları" tabindex="-1">State Komutları <a class="header-anchor" href="#state-komutları" aria-label="Permalink to &quot;State Komutları&quot;">​</a></h2><p>Bazen state dosyasına manuel müdahale gerekir.</p><ul><li><code>terraform state list</code>: Takip edilen kaynakları listeler.</li><li><code>terraform state show &lt;resource&gt;</code>: Bir kaynağın detaylarını gösterir.</li><li><code>terraform state mv &lt;old&gt; &lt;new&gt;</code>: Bir kaynağın adını değiştirdiyseniz, silip yeniden kurmaması için state içinde adını günceller.</li><li><code>terraform state rm &lt;resource&gt;</code>: Kaynağı silmeden Terraform takibinden çıkarır.</li><li><code>terraform import &lt;resource&gt; &lt;id&gt;</code>: Terraform ile oluşturulmamış bir kaynağı Terraform yönetimine alır.</li></ul>`,16)])])}const u=e(r,[["render",n]]);export{m as __pageData,u as default};
