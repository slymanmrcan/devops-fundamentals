import{_ as a,o as i,c as e,ag as n}from"./chunks/framework.DhRkhqU-.js";const o=JSON.parse('{"title":"07 - Yedekleme ve Geri Yükleme (Backup & Restore)","description":"","frontmatter":{},"headers":[],"relativePath":"01-Linux/03-Advanced/07-Backup-Restore.md","filePath":"01-Linux/03-Advanced/07-Backup-Restore.md"}'),l={name:"01-Linux/03-Advanced/07-Backup-Restore.md"};function t(p,s,k,h,r,d){return i(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="_07-yedekleme-ve-geri-yukleme-backup-restore" tabindex="-1">07 - Yedekleme ve Geri Yükleme (Backup &amp; Restore) <a class="header-anchor" href="#_07-yedekleme-ve-geri-yukleme-backup-restore" aria-label="Permalink to &quot;07 - Yedekleme ve Geri Yükleme (Backup &amp; Restore)&quot;">​</a></h1><p>Linux sistem yöneticiliğinin en kritik parçalarından biri veri yedeklemesidir. İşte en sık kullanılan araçlar:</p><h2 id="_1-arsivleme-ve-sıkıstırma-tar" tabindex="-1">1. Arşivleme ve Sıkıştırma (<code>tar</code>) <a class="header-anchor" href="#_1-arsivleme-ve-sıkıstırma-tar" aria-label="Permalink to &quot;1. Arşivleme ve Sıkıştırma (\`tar\`)&quot;">​</a></h2><p><code>tar</code> (Tape Archive), dosyaları tek bir paket haline getirmek ve sıkıştırmak için kullanılır.</p><h3 id="sık-kullanılan-parametreler" tabindex="-1">Sık Kullanılan Parametreler <a class="header-anchor" href="#sık-kullanılan-parametreler" aria-label="Permalink to &quot;Sık Kullanılan Parametreler&quot;">​</a></h3><ul><li><code>-c</code>: Create (Oluştur)</li><li><code>-x</code>: Extract (Çıkar)</li><li><code>-v</code>: Verbose (Detaylı göster)</li><li><code>-f</code>: File (Dosya adı belirt)</li><li><code>-z</code>: Gzip ile sıkıştır (.tar.gz)</li><li><code>-j</code>: Bzip2 ile sıkıştır (.tar.bz2)</li></ul><h3 id="ornekler" tabindex="-1">Örnekler <a class="header-anchor" href="#ornekler" aria-label="Permalink to &quot;Örnekler&quot;">​</a></h3><p><strong>Yedek Alma (Sıkıştırma):</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># /var/www klasörünü backup.tar.gz olarak sıkıştır</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -czvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www</span></span></code></pre></div><p><strong>Yedeği Açma (Geri Yükleme):</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># backup.tar.gz dosyasını olduğu yere çıkar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xzvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Belirli bir klasöre çıkar (-C)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xzvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/restore_folder</span></span></code></pre></div><h2 id="_2-dosya-kopyalama-cp-ve-scp" tabindex="-1">2. Dosya Kopyalama (<code>cp</code> ve <code>scp</code>) <a class="header-anchor" href="#_2-dosya-kopyalama-cp-ve-scp" aria-label="Permalink to &quot;2. Dosya Kopyalama (\`cp\` ve \`scp\`)&quot;">​</a></h2><h3 id="cp-copy" tabindex="-1"><code>cp</code> (Copy) <a class="header-anchor" href="#cp-copy" aria-label="Permalink to &quot;\`cp\` (Copy)&quot;">​</a></h3><p>Yerel diskte kopyalama yapar.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /backup/www_yedek</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Klasörü içindekilerle kopyalar</span></span></code></pre></div><h3 id="scp-secure-copy" tabindex="-1"><code>scp</code> (Secure Copy) <a class="header-anchor" href="#scp-secure-copy" aria-label="Permalink to &quot;\`scp\` (Secure Copy)&quot;">​</a></h3><p>SSH üzerinden güvenli dosya transferi yapar. Uzak sunucuya yedek atmak için idealdir.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Yerel dosyayı uzak sunucuya gönder</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backup.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@192.168.1.50:/home/user/backups/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Uzak sunucudan dosya çek</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@192.168.1.50:/var/log/syslog</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./local_syslog</span></span></code></pre></div><h2 id="_3-gelismis-senkronizasyon-rsync" tabindex="-1">3. Gelişmiş Senkronizasyon (<code>rsync</code>) <a class="header-anchor" href="#_3-gelismis-senkronizasyon-rsync" aria-label="Permalink to &quot;3. Gelişmiş Senkronizasyon (\`rsync\`)&quot;">​</a></h2><p><code>rsync</code>, sadece <strong>değişen</strong> dosyaları kopyaladığı için <code>cp</code> ve <code>scp</code>&#39;den çok daha hızlı ve verimlidir. Yedekleme scriptlerinde standarttır.</p><h3 id="temel-kullanım" tabindex="-1">Temel Kullanım <a class="header-anchor" href="#temel-kullanım" aria-label="Permalink to &quot;Temel Kullanım&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Kaynak klasörü hedefe senkronize et</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -a: Archive mode (izinleri, sahiplikleri korur)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -v: Verbose</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -z: Transfer sırasında sıkıştır</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># --delete: Kaynakta silineni hedefte de sil (Birebir ayna)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -avz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /backup/www_mirror/</span></span></code></pre></div><h3 id="uzak-sunucuya-yedekleme" tabindex="-1">Uzak Sunucuya Yedekleme <a class="header-anchor" href="#uzak-sunucuya-yedekleme" aria-label="Permalink to &quot;Uzak Sunucuya Yedekleme&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -avz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user@192.168.1.50:/backup/www_remote/</span></span></code></pre></div><h2 id="_4-basit-bir-yedekleme-scripti" tabindex="-1">4. Basit Bir Yedekleme Scripti <a class="header-anchor" href="#_4-basit-bir-yedekleme-scripti" aria-label="Permalink to &quot;4. Basit Bir Yedekleme Scripti&quot;">​</a></h2><p>Aşağıdaki scripti <code>cron</code> ile her gece çalıştırabilirsiniz.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ayarlar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SOURCE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/www/html&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DEST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home/user/backups&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +%Y-%m-%d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FILENAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;website_backup_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.tar.gz&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Yedekle</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Yedekleme basliyor: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -czf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DEST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$FILENAME $SOURCE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 7 günden eski yedekleri sil</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DEST </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;website_backup_*.tar.gz&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mtime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -delete</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Yedekleme tamamlandi.&quot;</span></span></code></pre></div>`,27)])])}const y=a(l,[["render",t]]);export{o as __pageData,y as default};
